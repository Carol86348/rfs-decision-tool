
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>å†é¤µé£Ÿç—‡å€™ç¾¤æ±ºç­–è¼”åŠ©å·¥å…·ï¼ˆå®Œæ•´æ•´åˆï¼‰</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h1 { color: #004080; }
    .section { margin-top: 30px; padding: 15px; border: 1px solid #ccc; border-radius: 8px; }
    label, input { display: block; margin-bottom: 10px; }
    input[type="number"] { width: 100px; }
    .red { color: red; font-weight: bold; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 8px; }
    th { background-color: #f0f0f0; }
    .out { text-align: right; }
  </style>
</head>
<body>
  <h1>å†é¤µé£Ÿç—‡å€™ç¾¤æ±ºç­–è¼”åŠ©å·¥å…·</h1>

  <div class="section">
    <h2>åŸºæœ¬è³‡æ–™</h2>
    <label>èº«é«˜ï¼ˆcmï¼‰<input type="number" id="height"></label>
    <label>é«”é‡ï¼ˆkgï¼‰<input type="number" id="weight"></label>
    <button onclick="updateBMI()">è¨ˆç®— BMI</button>
    <p><strong>BMIï¼š</strong> <span id="bmi">--</span></p>
  </div>

    <div class="section">    <h2>é¢¨éšªå› å­è©•ä¼°</h2>    <table>      <thead>        <tr>          <th>A é¡</th>          <th>B é¡</th>          <th>C é¡</th>        </tr>      </thead>      <tbody>        <tr>          <td><label><input type="checkbox" class="risk" value="A"> BMI &lt; 18.5</label></td>          <td><label><input type="checkbox" class="risk" value="B"> BMI &lt; 16</label></td>          <td><label><input type="checkbox" class="risk" value="C"> BMI &lt; 14</label></td>        </tr>        <tr>          <td><label><input type="checkbox" class="risk" value="A"> é«”é‡æ¸›è¼• &gt; 10%</label></td>          <td><label><input type="checkbox" class="risk" value="B"> é«”é‡æ¸›è¼• &gt; 15%</label></td>          <td><label><input type="checkbox" class="risk" value="C"> é«”é‡æ¸›è¼• &gt; 20%</label></td>        </tr>        <tr>          <td><label><input type="checkbox" class="risk" value="A"> é€²é£Ÿé‡ &lt; 1000 kcal æˆ–ç¦é£Ÿ &gt; 5 å¤©</label></td>          <td><label><input type="checkbox" class="risk" value="B"> é€²é£Ÿé‡ &lt; 1000 kcal æˆ–ç¦é£Ÿ &gt; 10 å¤©</label></td>          <td><label><input type="checkbox" class="risk" value="C"> ç¦é£Ÿ &gt; 15 å¤©</label></td>        </tr>        <tr>          <td><label><input type="checkbox" class="risk" value="A"> é…’ç²¾æˆ–è—¥ç‰©æˆç™®ç—…å²</label></td>          <td><label><input type="checkbox" class="risk" value="B"> ä½è¡€é‰€ï¼ä½è¡€ç£·ï¼ä½è¡€é‚</label></td>          <td></td>        </tr>      </tbody>    </table>

<div style="margin-top: 20px;">
  <button id="evaluateRiskBtn">ğŸ” è©•ä¼°é¢¨éšªç­‰ç´š</button>
  <div id="riskResult" style="margin-top:10px; font-weight: bold;"></div>
</div>
    <button onclick="evaluateRisk()">â¤ è©•ä¼°é¢¨éšªç­‰ç´š</button>    <div id="riskResult" class="result"></div>  </div> class="result"></div>
  </div>

  <div class="section">
    <h2>å»ºè­°ç†±é‡èˆ‡è£œå……</h2>
    <p><strong>æ¯æ—¥å»ºè­°ç†±é‡ï¼š</strong> <span id="kcalRange">--</span></p>
    <p><strong>Thiamine å»ºè­°ï¼š</strong> <span id="thiamine">--</span></p>
    <p><strong>Multivitamin å»ºè­°ï¼š</strong> <span id="multi">--</span></p>
    <div id="kcalTable"></div>
  </div>

  <div class="section">
    <h2>PN ç†±é‡è¼¸å…¥</h2>
    <table>
      <thead><tr><th>å“é …</th><th>å®¹é‡</th><th>ç†±é‡</th><th>æ•¸é‡</th><th>ç¸½ç†±é‡</th></tr></thead>
      <tbody>
        <tr><td>50%Glucose 4PC#Q6H</td><td>320ml</td><td>544</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='544'></td><td class='out'></td></tr>
<tr><td>50%Glucose 3PC#Q6H</td><td>240ml</td><td>408</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='408'></td><td class='out'></td></tr>
<tr><td>50%Glucose 2PC#Q6H</td><td>160ml</td><td>272</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='272'></td><td class='out'></td></tr>
<tr><td>50%Glucose 1PC#Q6H</td><td>80ml</td><td>136</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='136'></td><td class='out'></td></tr>
<tr><td>D10W 30ml/hr</td><td>720ml</td><td>245</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='245'></td><td class='out'></td></tr>
<tr><td>D10W 40ml/hr</td><td>960ml</td><td>326</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='326'></td><td class='out'></td></tr>
<tr><td>D10W 50ml/hr</td><td>1200ml</td><td>408</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='408'></td><td class='out'></td></tr>
<tr><td>D10W 60ml/hr</td><td>1440ml</td><td>490</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='490'></td><td class='out'></td></tr>
<tr><td>Kabiven PI</td><td>1448ml</td><td>1000</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='1000'></td><td class='out'></td></tr>
<tr><td>Kabiven central</td><td>1477ml</td><td>1600</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='1600'></td><td class='out'></td></tr>
<tr><td>periolimel</td><td>1500ml</td><td>1050</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='1050'></td><td class='out'></td></tr>
<tr><td>AA 5% 250ml</td><td>250ml</td><td>50</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='50'></td><td class='out'></td></tr>
<tr><td>AA 5% 500ml</td><td>500ml</td><td>100</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='100'></td><td class='out'></td></tr>
<tr><td>AA 7% 250ml</td><td>250ml</td><td>70</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='70'></td><td class='out'></td></tr>
<tr><td>AA 10% 500ml</td><td>500ml</td><td>142</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='142'></td><td class='out'></td></tr>
<tr><td>AA 15% 500ml</td><td>500ml</td><td>300</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='300'></td><td class='out'></td></tr>
<tr><td>fat 20% 100ml</td><td>100ml</td><td>200</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='200'></td><td class='out'></td></tr>
<tr><td>fat 20% 250ml</td><td>250ml</td><td>500</td><td><input type='number' value='0' onchange='calcTotal()' class='pn' data-kcal='500'></td><td class='out'></td></tr>

      </tbody>
    </table>

<div style="margin-top: 20px;">
  <button id="evaluateRiskBtn">ğŸ” è©•ä¼°é¢¨éšªç­‰ç´š</button>
  <div id="riskResult" style="margin-top:10px; font-weight: bold;"></div>
</div>

  </div>

  <div class="section">
    <h2>EN ç†±é‡è¼¸å…¥</h2>
    <table>
      <thead><tr><th>å“é …</th><th>ç†±é‡</th><th>æ•¸é‡</th><th>ç¸½ç†±é‡</th></tr></thead>
      <tbody>
        <tr><td>å‰µå¿«å¾©</td><td>300</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='300'></td><td class='out'></td></tr>
<tr><td>æ–°æ™®æ´¾</td><td>250</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='250'></td><td class='out'></td></tr>
<tr><td>ä½æ²¹.ä½é‰€é…æ–¹</td><td>250</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='250'></td><td class='out'></td></tr>
<tr><td>ç›ŠåŠ›å£¯ç³»åˆ—</td><td>250</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='250'></td><td class='out'></td></tr>
<tr><td>ç›ŠåŠ›åº·</td><td>250</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='250'></td><td class='out'></td></tr>
<tr><td>ä¿æƒ å£¯</td><td>250</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='250'></td><td class='out'></td></tr>
<tr><td>ç›Šæ²›ä½³</td><td>250</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='250'></td><td class='out'></td></tr>
<tr><td>å…ç–«å¢</td><td>250</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='250'></td><td class='out'></td></tr>
<tr><td>å¥åŠ›é«”</td><td>250</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='250'></td><td class='out'></td></tr>
<tr><td>å®‰ç´ </td><td>250</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='250'></td><td class='out'></td></tr>
<tr><td>è«¾æ²›</td><td>250</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='250'></td><td class='out'></td></tr>
<tr><td>è‘¡å‹éˆ‰</td><td>250</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='250'></td><td class='out'></td></tr>
<tr><td>æ™®å¯§è…</td><td>425</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='425'></td><td class='out'></td></tr>
<tr><td>å®‰ç´ é›™å¡</td><td>475</td><td><input type='number' value='0' onchange='calcTotal()' class='en' data-kcal='475'></td><td class='out'></td></tr>

      </tbody>
    </table>

<div style="margin-top: 20px;">
  <button id="evaluateRiskBtn">ğŸ” è©•ä¼°é¢¨éšªç­‰ç´š</button>
  <div id="riskResult" style="margin-top:10px; font-weight: bold;"></div>
</div>

    <p><strong>ç¸½æ”å–ç†±é‡ï¼š</strong> <span id="totalKcal">0</span> kcal</p>
  </div>

  



<script>
function updateBMI() {
  const h = parseFloat(document.getElementById("height").value);
  const w = parseFloat(document.getElementById("weight").value);
  if (h && w) {
    const bmi = w / ((h / 100) ** 2);
    document.getElementById("bmi").innerText = bmi.toFixed(1);

    // è‡ªå‹•å‹¾é¸ BMI å°æ‡‰é¢¨éšªå› å­
    document.querySelectorAll(".risk").forEach(c => {
      const label = c.closest("label")?.textContent || "";
      if (label.includes("BMI < 18.5") && bmi < 18.5) c.checked = true;
      if (label.includes("BMI < 16") && bmi < 16) c.checked = true;
      if (label.includes("BMI < 14") && bmi < 14) c.checked = true;
    });
  }
}
</script>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const groups = [
        ["riskA1", "riskB1", "riskC1"], // BMI group
        ["riskA2", "riskB2", "riskC2"], // é«”é‡æ¸›è¼• group
        ["riskA3", "riskB3", "riskC3"]  // ç¦é£Ÿ/é€²é£Ÿé‡ group
    ];

    groups.forEach(group => {
        group.forEach(id => {
            const el = document.getElementById(id);
            if (el) {
                el.addEventListener("change", function () {
                    if (el.checked) {
                        group.forEach(otherId => {
                            if (otherId !== id) {
                                const otherEl = document.getElementById(otherId);
                                if (otherEl) otherEl.checked = false;
                            }
                        });
                    }
                });
            }
        });
    });
});
</script>


<script>
document.addEventListener("DOMContentLoaded", function () {
    const evaluateRiskBtn = document.getElementById("evaluateRiskBtn");
    if (!evaluateRiskBtn) return;

    evaluateRiskBtn.addEventListener("click", function () {
        const A_ids = ["riskA1", "riskA2", "riskA3", "riskA4"];
        const B_ids = ["riskB1", "riskB2", "riskB3", "riskB4"];
        const C_ids = ["riskC1", "riskC2", "riskC3", "riskC4"];

        const countChecked = ids => ids.reduce((count, id) => {
            const el = document.getElementById(id);
            return count + (el && el.checked ? 1 : 0);
        }, 0);

        const A = countChecked(A_ids);
        const B = countChecked(B_ids);
        const C = countChecked(C_ids);

        let resultText = "";
        if (C >= 1) {
            resultText = "ã€é«˜é¢¨éšªã€‘";
        } else if (A >= 2 || B >= 1) {
            resultText = "ã€ä¸­é¢¨éšªã€‘";
        } else if (A >= 1) {
            resultText = "ã€ä½é¢¨éšªã€‘";
        } else {
            resultText = "å°šæœªç¬¦åˆé¢¨éšªè©•ä¼°æ¢ä»¶";
        }

        const output = document.getElementById("riskResult");
        output.textContent = resultText;
    });
});
</script>

</body>

</html>
